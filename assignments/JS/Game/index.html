<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width initial-scale=1" name="viewport">
    <title>Game</title>

    <link href="assets/css/style.css" rel="stylesheet">
</head>


<body onkeydown="keyCheck(event)" onload="animationStart();">

<section class="bg">

    <img alt="character" id="ninja" src="assets/img/Idle__000.png">

</section>

<script src="assets/js/jquery-3.6.1.min.js"></script>

<!--<script>

    var num = 0;

    function idleAnimation() {
        num += 1;
        $('#ninja').attr("src", "assets/img/Idle__00" + num + ".png");

        if (num == 9) {
            num = 0;
        }
    }

    var i;

    function AnimationStart() {
        i = setInterval(idleAnimation, 100);
    }

    var runNum = 0;

    function runAnimation() {
        $('#ninja').attr('src', 'assets/img/Run__00' + runNum + '.png').css('width', '180px');
        runNum += 1;
        if (runNum == 10) {
            runNum = 0;
        }
    }

    var i2;
    var i3;

    function runAnimationStart() {
        clearInterval(i);
        i2 = setInterval(runAnimation, 100);
        i3 = setInterval(moveBg, 100);
    }

    function keyCheck(event) {
        clearInterval(i2);
        clearInterval(i3);
        var runCode = event.which;
        if (runCode == 39) {
            runAnimationStart();
        }

    }

    var moveBackground = 0;

    function moveBg() {
        moveBackground -= 20;
        $('.bg').css('backgroundPositionX', moveBackground + 'px');
        check();
    }


    function check(event) {
        alert(event.which);
    }

</script>-->

<script>

    var idleImageNum = 0;

    function idleAnimation() {
        $('#ninja').attr("src", "assets/img/Idle__00" + idleImageNum + ".png");
        idleImageNum += 1;

        if (idleImageNum == 10) {
            idleImageNum = 0;
        }
    }

    var idleAnimationNum = 0;

    function animationStart() {
        idleAnimationNum = setInterval(idleAnimation, 100);
    }

    var runImageNum = 0;

    function runAnimation() {
        $('#ninja').attr("src", "assets/img/Run__00" + runImageNum + ".png").css("width", "13%");
        runImageNum += 1;

        if (runImageNum == 10) {
            runImageNum = 0;
        }
    }

    var runAnimationNum = 0;
    var backgroundAnimationNum = 0;

    function runAnimationStart() {
        clearInterval(idleAnimationNum);
        runAnimationNum = setInterval(runAnimation, 100);
        if (backgroundAnimationNum == 0) {
            backgroundAnimationNum = setInterval(moveBackground, 100);
        }
    }

    function keyCheck(event) {
        var keyCode = event.which;
        // alert(keyCode);
        if (keyCode == 39) {
            if (runAnimationNum == 0) {
                runAnimationStart();
            }
        }

        if (keyCode == 38) {
            if (jumpAnimationNum == 0) {
                jumpAnimationStart();
            }
        }
    }

    var bgImagePosition = 0;

    function moveBackground() {
        bgImagePosition -= 20;
        $('.bg').css("backgroundPositionX", bgImagePosition + "px");
    }

    var jumpImageNum = 0;

    function jumpAnimation() {
        $('#ninja').attr("src", "assets/img/Jump__00" + jumpImageNum + ".png");
        jumpImageNum += 1;

        if (jumpImageNum == 10) {
            jumpImageNum = 0;
            clearInterval(jumpAnimationNum);
            jumpAnimationNum = 0;
            runImageNum = 0;
            runAnimationStart();
        }
    }

    var jumpAnimationNum = 0;

    function jumpAnimationStart() {
        clearInterval(idleAnimationNum);
        runImageNum = 0;
        clearInterval(runAnimationNum);
        jumpAnimationNum = setInterval(jumpAnimation, 100);
    }

</script>
</body>
</html>